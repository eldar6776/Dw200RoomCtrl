<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dw200 Room Control</title>
    <link rel="stylesheet" href="style.css">
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <h1>Dw200 Room Control</h1>

    <div class="container">
        <div class="card">
            <h2>Device Control</h2>
            <div class="form-group">
                <label for="device-sn">Device SN:</label>
                <input type="text" id="device-sn" value="D200-12345678">
            </div>
            <div class="form-group">
                <label for="door-duration">Door Open Duration (ms):</label>
                <input type="number" id="door-duration" value="2000" min="500" max="10000" step="100">
            </div>
            <button id="btn-open-door" class="btn-primary">ðŸ”“ Open Door</button>
            <button id="btn-sync-time" class="btn-info">ðŸ•’ Sync Time from PC</button>
        </div>

        <div class="card">
            <h2>Add QR Code</h2>
            <div class="form-group">
                <label for="qr-code">QR Code:</label>
                <input type="text" id="qr-code" placeholder="HOTEL-ROOM-101">
            </div>
            <div class="form-group">
                <label for="qr-start-time">Start Date/Time:</label>
                <input type="datetime-local" id="qr-start-time">
            </div>
            <div class="form-group">
                <label for="qr-end-time">End Date/Time:</label>
                <input type="datetime-local" id="qr-end-time">
            </div>
            <button id="btn-add-qr">Add QR Code</button>
        </div>

        <div class="card">
            <h2>Add PIN Code</h2>
            <div class="form-group">
                <label for="pin-code">PIN (4 digits):</label>
                <input type="text" id="pin-code" placeholder="1234" maxlength="4" pattern="[0-9]{4}">
            </div>
            <div class="form-group">
                <label for="pin-start-time">Start Date/Time:</label>
                <input type="datetime-local" id="pin-start-time">
            </div>
            <div class="form-group">
                <label for="pin-end-time">End Date/Time:</label>
                <input type="datetime-local" id="pin-end-time">
            </div>
            <button id="btn-add-pin">Add PIN Code</button>
        </div>

        <div class="card">
            <h2>Set Config</h2>
            <div class="form-group">
                <label for="door-timeout">Door Open Timeout (s):</label>
                <input type="number" id="door-timeout" value="10">
            </div>
            <button id="btn-set-config">Set Config</button>
        </div>

        <div class="card">
            <h2>Firmware Update (OTA)</h2>
            <div class="form-group">
                <label for="server-ip">Your Computer's IP:</label>
                <input type="text" id="server-ip" placeholder="e.g., 192.168.1.10">
            </div>
            <div class="form-group">
                <label for="firmware-file">update.zip:</label>
                <input type="file" id="firmware-file" accept=".zip">
            </div>
            <button id="btn-ota-update">Upload & Update</button>
        </div>
    </div>

    <div class="output-container">
        <h2>Output</h2>
        <pre id="output">Connecting to server...</pre>
    </div>

    <div class="output-container">
        <h2>Log</h2>
        <pre id="log-output">Waiting for log messages...</pre>
    </div>

    <script src="script.js"></script>
</body>
</html>